# Skill Installer - å¿«é€Ÿæµ‹è¯•æŒ‡å—

> æµ‹è¯•JarvisMoltæŠ€èƒ½è‡ªåŠ¨å­¦ä¹ æµç¨‹

---

## ðŸŽ¯ æµ‹è¯•åœºæ™¯

æ¨¡æ‹Ÿç”¨æˆ·åœ¨OpenClawä¸­å­¦ä¹ larkæŠ€èƒ½çš„å®Œæ•´æµç¨‹ã€‚

---

## ðŸš€ å¿«é€Ÿæµ‹è¯•

### å‡†å¤‡å·¥ä½œ

```bash
cd /Users/bobsharon/myfiles/xlab/JarvisMolt/Skills/skill-installer

# ç¡®ä¿è„šæœ¬å¯æ‰§è¡Œ
chmod +x agent.js
```

---

### åœºæ™¯1ï¼šé¦–æ¬¡å­¦ä¹ æŠ€èƒ½ï¼ˆéœ€è¦æŽˆæƒç ï¼‰

```bash
# æ­¥éª¤1ï¼šç”¨æˆ·è¾“å…¥å­¦ä¹ æŒ‡ä»¤
node agent.js "å­¦ä¹ larkæŠ€èƒ½ ä»Ž https://github.com/bobsharon/JarvisMolt"

# é¢„æœŸè¾“å‡ºï¼š
# æç¤ºè¾“å…¥æŽˆæƒç 
```

**é¢„æœŸäº¤äº’**ï¼š
```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘     Skill Installer - JarvisMoltæŠ€èƒ½å®‰è£…å™¨        â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ðŸŽ¯ ç›®æ ‡æŠ€èƒ½: lark
ðŸ”— GitHubä»“åº“: https://github.com/bobsharon/JarvisMolt

ðŸ“‹ æ­¥éª¤1: æ£€æŸ¥æŽˆæƒ...

ðŸ” è¯¥æŠ€èƒ½éœ€è¦æŽˆæƒç æ‰èƒ½ä½¿ç”¨
   è¯·è¾“å…¥æŽˆæƒç ï¼ˆä»ŽæŠ€èƒ½æä¾›è€…å¤„èŽ·å–ï¼‰:

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
Agentè¿”å›žç»“æžœ:
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

è¯¥æŠ€èƒ½éœ€è¦æŽˆæƒç æ‰èƒ½ä½¿ç”¨ã€‚

è¯·è¾“å…¥æŽˆæƒç ï¼šï¼ˆä¾‹å¦‚ï¼šABCD-EFGH-JKLM-NPQR-XYï¼‰

èŽ·å–æŽˆæƒç è¯·è”ç³»æŠ€èƒ½æä¾›è€…ã€‚

âš ï¸  éœ€è¦ç”¨æˆ·è¾“å…¥
Context: {
  action: 'verify-license',
  skillName: 'lark',
  githubUrl: 'https://github.com/bobsharon/JarvisMolt'
}
```

---

### åœºæ™¯2ï¼šç”Ÿæˆæµ‹è¯•æŽˆæƒç 

```bash
cd ../../scripts

# ç”Ÿæˆæµ‹è¯•æŽˆæƒç 
node generate-code.js lark --type trial --days 7

# å¤åˆ¶ç”Ÿæˆçš„æŽˆæƒç ï¼ˆä¾‹å¦‚ï¼šABCD3456-789N-PQRS-TUVW-XYï¼‰
```

---

### åœºæ™¯3ï¼šæ¨¡æ‹Ÿç”¨æˆ·å·²æœ‰æŽˆæƒ

**æ–¹å¼Aï¼šæ‰‹åŠ¨åˆ›å»ºæŽˆæƒç¼“å­˜**

```bash
# åˆ›å»ºæŽˆæƒç¼“å­˜ç›®å½•
mkdir -p ~/.openclaw/licenses

# åˆ›å»ºæŽˆæƒæ–‡ä»¶
cat > ~/.openclaw/licenses/lark.json << 'EOF'
{
  "skill": "lark",
  "code": "TEST-CODE-FOR-DEMO",
  "activatedAt": 1738743600000,
  "expiresAt": 1770279600000,
  "type": "permanent"
}
EOF

# å†æ¬¡è¿è¡Œagent
cd /Users/bobsharon/myfiles/xlab/JarvisMolt/Skills/skill-installer
node agent.js "å­¦ä¹ larkæŠ€èƒ½ ä»Ž https://github.com/bobsharon/JarvisMolt"
```

**é¢„æœŸè¾“å‡º**ï¼š
```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘     Skill Installer - JarvisMoltæŠ€èƒ½å®‰è£…å™¨        â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ðŸŽ¯ ç›®æ ‡æŠ€èƒ½: lark
ðŸ”— GitHubä»“åº“: https://github.com/bobsharon/JarvisMolt

ðŸ“‹ æ­¥éª¤1: æ£€æŸ¥æŽˆæƒ...
   âœ“ æ‰¾åˆ°æœ‰æ•ˆæŽˆæƒ (permanent)

ðŸ“¥ æ­¥éª¤2: ä¸‹è½½æŠ€èƒ½...
   ä»“åº“: https://github.com/bobsharon/JarvisMolt
   ä¸´æ—¶ç›®å½•: /tmp/jarvismolt-1738743600000

Cloning into '/tmp/jarvismolt-1738743600000'...
âœ“ GitHubä»“åº“å…‹éš†æˆåŠŸ

ðŸ“¦ æ­¥éª¤3: å®‰è£…æŠ€èƒ½...
   æºç›®å½•: /tmp/jarvismolt-1738743600000/Skills/lark
   ç›®æ ‡ç›®å½•: ~/.openclaw/skills/lark

âœ“ æŠ€èƒ½å®‰è£…å®Œæˆ
âœ“ ä¸´æ—¶æ–‡ä»¶å·²æ¸…ç†

â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘              âœ… æŠ€èƒ½å­¦ä¹ å®Œæˆï¼                     â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ… larkæŠ€èƒ½å­¦ä¹ å®Œæˆï¼

å®‰è£…ä½ç½®: ~/.openclaw/skills/lark

çŽ°åœ¨ä½ å¯ä»¥ä½¿ç”¨è¯¥æŠ€èƒ½äº†ã€‚ä¾‹å¦‚ï¼š
- å°çº¢ä¹¦æœç´¢ ç”µå•†è¿è¥
- å°çº¢ä¹¦çˆ¬å– ç›´æ’­å¸¦è´§ --æ•°é‡=50

è¯¦ç»†æ–‡æ¡£: ~/.openclaw/skills/lark/SKILL.md
```

---

### åœºæ™¯4ï¼šæŸ¥çœ‹å·²æŽˆæƒæŠ€èƒ½

```bash
node agent.js "æŸ¥çœ‹æˆ‘çš„æŠ€èƒ½æŽˆæƒ"
```

**é¢„æœŸè¾“å‡º**ï¼š
```
å·²æŽˆæƒæŠ€èƒ½åˆ—è¡¨ï¼š

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æŠ€èƒ½åç§°     â”‚ æŽˆæƒç±»åž‹              â”‚ å‰©ä½™å¤©æ•°  â”‚ çŠ¶æ€         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ lark â”‚ permanent            â”‚ æ°¸ä¹…      â”‚ âœ“ æœ‰æ•ˆ       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### åœºæ™¯5ï¼šç§»é™¤æŠ€èƒ½

```bash
node agent.js "ç§»é™¤larkæŠ€èƒ½"
```

**é¢„æœŸè¾“å‡º**ï¼š
```
âœ“ æŠ€èƒ½"lark"å·²ç§»é™¤ã€‚

æŽˆæƒä¿¡æ¯å·²ä¿ç•™ï¼Œå¯ä»¥éšæ—¶é‡æ–°å®‰è£…ã€‚
```

---

## ðŸ§ª å®Œæ•´æµ‹è¯•æµç¨‹

### æµ‹è¯•è„šæœ¬ï¼š`test-flow.sh`

```bash
#!/bin/bash

echo "========================================="
echo "Skill Installer å®Œæ•´æµ‹è¯•æµç¨‹"
echo "========================================="

# 1. æ¸…ç†çŽ¯å¢ƒ
echo -e "\n1. æ¸…ç†æµ‹è¯•çŽ¯å¢ƒ..."
rm -rf ~/.openclaw/licenses/lark.json
rm -rf ~/.openclaw/skills/lark

# 2. ç”Ÿæˆæµ‹è¯•æŽˆæƒç 
echo -e "\n2. ç”Ÿæˆæµ‹è¯•æŽˆæƒç ..."
cd /Users/bobsharon/myfiles/xlab/JarvisMolt/scripts
CODE=$(node generate-code.js lark --type trial --days 7 2>&1 | grep "éªŒè¯ç :" | awk '{print $2}')
echo "   æŽˆæƒç : $CODE"

# 3. åˆ›å»ºæŽˆæƒç¼“å­˜ï¼ˆæ¨¡æ‹Ÿç”¨æˆ·å·²è¾“å…¥æŽˆæƒç ï¼‰
echo -e "\n3. åˆ›å»ºæŽˆæƒç¼“å­˜..."
mkdir -p ~/.openclaw/licenses
cat > ~/.openclaw/licenses/lark.json << EOF
{
  "skill": "lark",
  "code": "$CODE",
  "activatedAt": $(date +%s)000,
  "expiresAt": $(date -v+7d +%s)000,
  "type": "trial"
}
EOF

# 4. æµ‹è¯•å­¦ä¹ æŠ€èƒ½
echo -e "\n4. æµ‹è¯•å­¦ä¹ æŠ€èƒ½..."
cd /Users/bobsharon/myfiles/xlab/JarvisMolt/Skills/skill-installer
node agent.js "å­¦ä¹ larkæŠ€èƒ½ ä»Ž https://github.com/bobsharon/JarvisMolt"

# 5. éªŒè¯å®‰è£…
echo -e "\n5. éªŒè¯æŠ€èƒ½å®‰è£…..."
if [ -d ~/.openclaw/skills/lark ]; then
    echo "   âœ“ æŠ€èƒ½ç›®å½•å­˜åœ¨"
    echo "   âœ“ æ–‡ä»¶åˆ—è¡¨:"
    ls -la ~/.openclaw/skills/lark/
else
    echo "   âœ— æŠ€èƒ½æœªå®‰è£…"
fi

# 6. æŸ¥çœ‹æŽˆæƒåˆ—è¡¨
echo -e "\n6. æŸ¥çœ‹æŽˆæƒåˆ—è¡¨..."
node agent.js "æŸ¥çœ‹æˆ‘çš„æŠ€èƒ½æŽˆæƒ"

echo -e "\n========================================="
echo "æµ‹è¯•å®Œæˆï¼"
echo "========================================="
```

### è¿è¡Œæµ‹è¯•

```bash
# ä¿å­˜ä¸Šè¿°è„šæœ¬
cat > /Users/bobsharon/myfiles/xlab/JarvisMolt/Skills/skill-installer/test-flow.sh << 'EOF'
[ç²˜è´´ä¸Šè¿°è„šæœ¬å†…å®¹]
EOF

# èµ‹äºˆæ‰§è¡Œæƒé™
chmod +x test-flow.sh

# è¿è¡Œæµ‹è¯•
./test-flow.sh
```

---

## ðŸ“Š æµ‹è¯•æ£€æŸ¥æ¸…å•

### åŠŸèƒ½æµ‹è¯•

- [ ] è§£æžç”¨æˆ·è¾“å…¥ï¼ˆå­¦ä¹ æŠ€èƒ½ï¼‰
- [ ] æ£€æŸ¥æœ¬åœ°æŽˆæƒç¼“å­˜
- [ ] æç¤ºè¾“å…¥æŽˆæƒç 
- [ ] éªŒè¯æŽˆæƒç 
- [ ] ä»ŽGitHubå…‹éš†ä»“åº“
- [ ] å®‰è£…æŠ€èƒ½åˆ°~/.openclaw/skills/
- [ ] æ¸…ç†ä¸´æ—¶æ–‡ä»¶
- [ ] æŸ¥çœ‹æŽˆæƒåˆ—è¡¨
- [ ] ç§»é™¤æŠ€èƒ½

### è¾¹ç•Œæƒ…å†µæµ‹è¯•

- [ ] æŽˆæƒç ä¸å­˜åœ¨
- [ ] æŽˆæƒç å·²è¿‡æœŸ
- [ ] GitHub URLé”™è¯¯
- [ ] æŠ€èƒ½ç›®å½•ä¸å­˜åœ¨
- [ ] ç½‘ç»œè¿žæŽ¥å¤±è´¥
- [ ] æƒé™ä¸è¶³

---

## ðŸ› å¸¸è§é—®é¢˜

### Q1: Gitå…‹éš†å¤±è´¥

**é—®é¢˜**ï¼š`fatal: could not read Username`

**è§£å†³**ï¼š
```bash
# ç¡®ä¿ä½¿ç”¨HTTPS URLï¼Œä¸è¦ç”¨SSH
# æ­£ç¡®ï¼šhttps://github.com/user/repo
# é”™è¯¯ï¼šgit@github.com:user/repo.git
```

### Q2: æ‰¾ä¸åˆ°éªŒè¯ç è„šæœ¬

**é—®é¢˜**ï¼š`éªŒè¯ç éªŒè¯ç³»ç»Ÿæœªæ‰¾åˆ°`

**è§£å†³**ï¼š
```bash
# ç¡®ä¿scriptsç›®å½•å­˜åœ¨
ls -la /Users/bobsharon/myfiles/xlab/JarvisMolt/scripts/validate-code.js

# å¦‚æžœä¸å­˜åœ¨ï¼Œå›žåˆ°é¡¹ç›®æ ¹ç›®å½•æŸ¥çœ‹
```

### Q3: æƒé™é”™è¯¯

**é—®é¢˜**ï¼š`EACCES: permission denied`

**è§£å†³**ï¼š
```bash
# ç¡®ä¿ç›®å½•æƒé™æ­£ç¡®
chmod 755 ~/.openclaw
chmod 755 ~/.openclaw/skills
chmod 700 ~/.openclaw/licenses
```

---

## ðŸ”„ é›†æˆåˆ°OpenClaw

### æ­¥éª¤1ï¼šå®‰è£…skill-installer

```bash
# å¤åˆ¶åˆ°OpenClawæŠ€èƒ½ç›®å½•
cp -r /Users/bobsharon/myfiles/xlab/JarvisMolt/Skills/skill-installer \
      ~/.openclaw/skills/

# é‡å¯OpenClaw
openclaw gateway restart
```

### æ­¥éª¤2ï¼šåœ¨OpenClawä¸­ä½¿ç”¨

```
åœ¨OpenClawå¯¹è¯ä¸­è¾“å…¥ï¼š

å­¦ä¹ larkæŠ€èƒ½ ä»Ž https://github.com/bobsharon/JarvisMolt
```

### æ­¥éª¤3ï¼šè¾“å…¥æŽˆæƒç 

```
å½“æç¤ºè¾“å…¥æŽˆæƒç æ—¶ï¼Œç›´æŽ¥è¾“å…¥ï¼š

ABCD-EFGH-JKLM-NPQR-XY
```

---

## ðŸ“ å¼€å‘ç¬”è®°

### Agentè®¾è®¡è¯´æ˜Ž

1. **çŠ¶æ€ç®¡ç†**ï¼šä½¿ç”¨`context.previousContext`ä¿å­˜ä¸­é—´çŠ¶æ€
2. **æŽˆæƒç¼“å­˜**ï¼šå­˜å‚¨åœ¨`~/.openclaw/licenses/`
3. **ä¸´æ—¶ç›®å½•**ï¼šä½¿ç”¨`os.tmpdir()`è‡ªåŠ¨æ¸…ç†
4. **é”™è¯¯å¤„ç†**ï¼šæ‰€æœ‰æ“ä½œéƒ½åŒ…å«try-catch

### æ”¹è¿›å»ºè®®

- [ ] æ·»åŠ è¿›åº¦æ¡æ˜¾ç¤º
- [ ] æ”¯æŒæ–­ç‚¹ç»­ä¼ 
- [ ] æ·»åŠ æŠ€èƒ½ä¾èµ–æ£€æŸ¥
- [ ] å®žçŽ°æŠ€èƒ½ç‰ˆæœ¬ç®¡ç†
- [ ] æ”¯æŒç§æœ‰GitHubä»“åº“

---

**æµ‹è¯•å®ŒæˆåŽè®°å¾—æ¸…ç†ï¼š**

```bash
# æ¸…ç†æµ‹è¯•æ•°æ®
rm -rf ~/.openclaw/licenses/lark.json
rm -rf ~/.openclaw/skills/lark
```

---

**é¡¹ç›®è·¯å¾„**: `/Users/bobsharon/myfiles/xlab/JarvisMolt/Skills/skill-installer`
**æœ€åŽæ›´æ–°**: 2026-02-05
